<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<title>Text</title>
  <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1" />
	<meta name="renderer" content="webkit">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	
	<link rel="stylesheet" href="../../base/css/normalize.min.css" />
	<link rel="stylesheet" href="../../base/css/bootstrap.min.css" />
	<link rel="stylesheet" href="../../base/css/material.css">
	<link rel="stylesheet" href="../../base/css/td.base.css">
	
	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
    <script src="../../base/js/html5.min.js"></script>
		<script src="../../base/js/respond.min.js"></script>
	<![endif]-->
	
	<link type="text/css" rel="stylesheet" href="../../base/css/waves.css" />
	<script type="text/javascript" src="../../base/js/waves.js"></script>
	
	<script type="text/javascript" src="../../../avalon.js"></script>
	<script>
		//这个东西必须跟挨着avalon库,并且放到head标签中
		avalon.library("td", {
			$init: function(){},
			$childReady: function(){},
			$ready: function(){},
			$dispose: function(){}
		});
	</script>
</head>
<body>
	<div class="container">
		<h3>TdText&nbsp;<small>输入框</small></h3>
		<div class="row base_border padding_top bg_white ms-controller" ms-controller="test">
			<div class="col-lg-12">
				<td:text config="$opt" label="ID(宽度固定200)" name="id" disabled="true" value="000001" must="6" width="200"></td:text>
			</div>
			<div class="col-lg-12">
				<td:text config="$opt" label="姓名(宽度固定300)" name="name" value="" must="true" width="300" maxlen="20"></td:text>
			</div>
			<div class="col-lg-12">
				<td:text config="$opt" label="年龄(宽度30%)" name="age" value="" valid="+int" min="10" max="120" width="30%" maxlen="3"></td:text>
			</div>
			<div class="col-lg-12">
				<td:text $id="email-input" config="$opt" label="电子邮件(宽度50%)" name="email" value="" valid="email" width="50%" maxlen="50"></td:text>
			</div>
		</div>
		
		<div class="row margin_top2">
			<blockquote>
				<p>示例代码：</p>
			</blockquote>
			<pre>
<strong>HTML:</strong>
&lt;!-- 
	目前校验相关属性 
	valid: int, +int, -int, float, +float, -float, ip, email, phone, mobile
	must: true/false or number(必须长度)
	max/min: number(最大/最小值)
--&gt;
&lt;td:text config="$opt" label="ID(宽度固定200)" name="id" disabled="true" value="000001" must="6" width="200"&gt;&lt;/td:text&gt;
&lt;td:text config="$opt" label="姓名(宽度固定300)" name="name" value="" must="true" width="300" maxlen="20"&gt;&lt;/td:text&gt;
&lt;td:text config="$opt" label="年龄(宽度30%)" name="age" value="" valid="+int" min="10" max="120" width="30%" maxlen="3"&gt;&lt;/td:text&gt;
&lt;td:text config="$opt" label="电子邮件(宽度50%)" name="email" value="" valid="email" width="50%" maxlen="50"&gt;&lt;/td:text&gt;
<br/>
<strong>JS:</strong>
require(['ui/form/text/td.text'], function () {
	avalon.define({
		$id: 'test',
		$opt: {
			onclicked: function(ev, vm) {
				avalon.log(vm.getData());
			},
			onchanged: function(data, vm) {
				avalon.log(data);
			}
		}
	});
	avalon.scan();
	avalon.vmodels['email-input'].setValue('test@qq.com');
});
			</pre>
		</div>
	</div>
</body>
<script type="text/javascript" src="../../base/js/td.base.js"></script>
<script>
	require(['ui/form/text/td.text'], function () {
		avalon.define({
			$id: 'test',
			$opt: {
				onclicked: function(ev, vm) {
					avalon.log(vm);
					avalon.log(vm.getData());
				},
				onchanged: function(data, vm) {
					avalon.log(data);
				}
			}
		});
		avalon.scan();
		
		avalon.vmodels['email-input'].setValue('test@qq.com');
	});
</script>
</html>