<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<title>DataGrid</title>
  <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1" />
	<meta name="renderer" content="webkit">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	
	<link rel="stylesheet" href="../base/css/normalize.min.css" />
	<link rel="stylesheet" href="../base/css/bootstrap.min.css" />
	
	<link rel="stylesheet" href="../base/css/td.base.css">
	
	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
    <script src="../base/js/html5.min.js"></script>
		<script src="../base/js/respond.min.js"></script>
	<![endif]-->
	
	<!--[if (gte IE 10)|!(IE)]>-->
		<link type="text/css" rel="stylesheet" href="../base/css/waves.css" />
		<script type="text/javascript" src="../base/js/waves.js"></script>
	<!--[endif]-->
</head>
<body>
	<div class="container">
		<h3>TdDataGrid&nbsp;<small>数据表格</small></h3>
		<div class="row base_border padding_top padding_bottom bg_white">
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 ms-controller" ms-controller="test">
				 <td:datagrid $id="dg" config="$opt" title="测试数据表格" checkbox="true" single-select="false" editable="true" auto="true" height="300" >
					<div slot="content">
					这里是查询条件
					</div>
				 </td:datagrid>
			</div>
		</div>
		
		<div class="row margin_top2">
			<blockquote>
				<p>示例代码：</p>
			</blockquote>
			<pre>
<strong>HTML:</strong>
&lt;td:datagrid $id="dg" config="$opt" title="测试数据表格" checkbox="true" single-select="false" editable="true" auto="true" height="300" &gt;
	&lt;div slot="content"&gt;
	这里是查询条件
	&lt;/div&gt;
&lt;/td:datagrid&gt;
<br/>
<strong>JS:</strong>
var cols = [
	{name: 'id', display: '编号', width: 100, type: 'text', disabled: true}, 
	{name: 'name', display: '名称', width: 150, type: 'text'}, 
	{name: 'price', display: '价格', width: 120, type: 'text'},
	{name: 'category', display: '类别', width: 150, type: 'select', option: {
		'A1': '游戏', 'A2' : '电影', 'A3' : '音乐'
	}}
];
var rows = [
	{"id": "001", "name": "Eclair11111111111111111111111111111111111111",   "price": "$0.87", "category": "A1", "selected": "false"},
	{"id": "002", "name": "YuJun",    "price": "$0.57", "category": "A2", "selected": "false"},
	{"id": "003", "name": "YingYing", "price": "$1.11", "category": "A3", "selected": "false"},
	{"id": "004", "name": "HaHa",     "price": "$0.89", "category": "A2", "selected": "false"},
	{"id": "005", "name": "Eclair",   "price": "$0.77", "category": "A3", "selected": "false"}
]
require(["ui/datagird/td.datagrid"], function () {
	avalon.define({
		$id: 'test',
		$opt: {
			loadUrl: '../../../data/td.datagrid.json',
			loadParam: {
				p1: 1, p2: 2
			},
			cols: cols,
			//rows: rows,
			actions: [{title: '新增', icon: 'glyphicon glyphicon-plus', fun: function(ev, vm) {
				alert('add')
			}}, {title: '删除', icon: 'glyphicon glyphicon-remove', fun: function(ev, vm) {
				avalon.log(vm.getSelectedIdx());
			}}]
		}
	});
	avalon.scan();
});
			</pre>
		</div>
	</div>
</body>
<script type="text/javascript" src="../../avalon.js"></script>
<script type="text/javascript" src="../base/js/td.base.js"></script>
<script>
	var cols = [
		{name: 'id', display: '编号', width: 100, type: 'text', disabled: true}, 
		{name: 'name', display: '名称', width: 150, type: 'text'}, 
		{name: 'price', display: '价格', width: 120, type: 'text'},
		{name: 'category', display: '类别', width: 150, type: 'select', option: {
			'A1': '游戏', 'A2' : '电影', 'A3' : '音乐'
		}}
	];
	var rows = [
		{"id": "001", "name": "Eclair11111111111111111111111111111111111111",   "price": "$0.87", "category": "A1", "selected": "false"},
		{"id": "002", "name": "YuJun",    "price": "$0.57", "category": "A2", "selected": "false"},
		{"id": "003", "name": "YingYing", "price": "$1.11", "category": "A3", "selected": "false"},
		{"id": "004", "name": "HaHa",     "price": "$0.89", "category": "A2", "selected": "false"},
		{"id": "005", "name": "Eclair",   "price": "$0.77", "category": "A3", "selected": "false"}
	]
	require(["ui/datagird/td.datagrid"], function () {
		avalon.define({
			$id: 'test',
			$opt: {
				loadUrl: '../../../data/td.datagrid.json',
				loadParam: {
					p1: 1, p2: 2
				},
				cols: cols,
				//rows: rows,
				actions: [{title: '新增', icon: 'glyphicon glyphicon-plus', fun: function(ev, vm) {
					alert('add')
				}}, {title: '删除', icon: 'glyphicon glyphicon-remove', fun: function(ev, vm) {
					avalon.log(vm.getSelectedIdx());
				}}]
			}
		});
		avalon.scan();
	});
</script>
</html>